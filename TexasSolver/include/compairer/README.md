# Compairer ディレクトリ

## 概要

本ディレクトリには、ポーカーハンドの強度を評価し、比較するためのクラスが格納されています。ショーダウン時の勝者判定やエクイティ計算に使用されます。

## 主要機能

### ハンド評価
7枚のカード（2枚の手札 + 5枚のボード）から最強の5枚を選択し、ハンドランクを判定します。

**ハンドランク（強い順）:**
1. ロイヤルフラッシュ (Royal Flush)
2. ストレートフラッシュ (Straight Flush)
3. フォーカード (Four of a Kind)
4. フルハウス (Full House)
5. フラッシュ (Flush)
6. ストレート (Straight)
7. スリーカード (Three of a Kind)
8. ツーペア (Two Pair)
9. ワンペア (One Pair)
10. ハイカード (High Card)

### ハンド比較
2つ以上のハンドを比較し、勝者を判定します。

**比較ロジック:**
- まずハンドランクを比較
- 同じランクの場合、キッカーを比較
- 完全に同じ場合は引き分け（チョップ）

### エクイティ計算
特定の状況における各ハンドの期待勝率を計算します。

**計算方法:**
- モンテカルロシミュレーション
- または全探索（可能な場合）

## 実装の特徴

### 高速評価
- ルックアップテーブルの使用
- ビット演算による最適化
- キャッシュフレンドリーなデータ構造

### 正確性
- エッジケースの完全な処理
- IEEE標準に準拠した浮動小数点演算

## 使用例

```cpp
Compairer compairer;

// ハンド評価
Card hand1[] = {As, Ks};
Card board[] = {Ah, Kh, Qh, Jh, Th};
int rank1 = compairer.evaluate(hand1, board);

// ハンド比較
Card hand2[] = {Ac, Kc};
int result = compairer.compare(hand1, hand2, board);
// result > 0: hand1の勝ち
// result < 0: hand2の勝ち  
// result = 0: 引き分け

// エクイティ計算
float equity = compairer.getEquity(hand1, range2, board);
```

## パフォーマンス最適化

### ルックアップテーブル
事前計算された強度テーブルを使用し、O(1)での評価を実現。

### ビットボード表現
64ビット整数でカードを表現し、高速なセット操作を可能に。

### キャッシング
頻繁に評価される組み合わせをキャッシュし、重複計算を回避。
